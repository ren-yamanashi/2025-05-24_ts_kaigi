---
layout: default
transition: none
---

<style scoped>
.slidev-vclick-hidden {
  display: none;
}
</style>

<div class="_bullet">

2. 末尾が`Error`の場合、AST から型情報を取得

<div v-click="1">

* typescript の `getTypeAtLocation` 関数
  * `typescript` の AST Node (`ts.Node`) を受け取り、型情報 (`ts.Type`) を返す

<div v-click="[1]" class="mt-14.5" />

<div v-click="2">

※ `typescript` の AST Node であり、`typescript-eslint` の AST Node ではない  

</div>

```ts
// ref: https://github.com/microsoft/TypeScript/blob/v5.8.3/src/compiler/types.ts#L5160
export interface TypeChecker {
  // ...
  getTypeAtLocation(node: Node): Type;
}
```

</div>

</div>

<!-- 
続いて、AST から型情報を取得する実装を行います。

[click] typescript には、`getTypeAtLocation`という、AST Node を受け取り、Type を返す関数があり、これを使用することで、typescript の AST Node から型情報を取得することができます。 
[click] ただ、この関数が受け取る AST Node は typescript のものであり、`typescript-eslint` のものではありません。  
-->