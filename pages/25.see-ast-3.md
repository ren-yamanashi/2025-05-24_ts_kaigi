---
layout: default
transition: none
---

<style scoped>
.small-code-ts {
  .slidev-code {
    font-size: 0.9rem !important;
    line-height: 0rem !important;
  }
}
</style>

<div class="_bullet">

2. それぞれのケースのコードの AST を見ながら、ルールを実装する

</div>

<div class="small-code-ts">

<div class="_bullet">

* `TSPropertySignature` の `readonly` が false の場合はエラーにする

</div>

```ts{*|6-19|7-17}
import { AST_NODE_TYPES, ESLintUtils } from "@typescript-eslint/utils";

export const requireReadonlyInInterface = ESLintUtils.RuleCreator.withoutDocs({
  // ...
  create(context) { return {
      TSInterfaceDeclaration(node) {
        for (const interfaceBody of node.body.body) {
          if (
            interfaceBody.type === AST_NODE_TYPES.TSPropertySignature &&
            !interfaceBody.readonly
          ) {
            context.report({
              node: interfaceBody,
              messageId: "requireReadonlyInInterface",
            });
          }
        }
      },
    }
}});
```

</div>
