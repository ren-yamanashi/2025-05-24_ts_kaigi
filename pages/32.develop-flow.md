---
layout: default
transition: none
---

<style scoped>
.slidev-vclick-hidden {
  display: none;
}
</style>

<div class="_bullet">

* カスタムエラークラス(e.g. `NotExistsError`)に `Error` クラスの継承を強制するルール

</div>

<div class="_bullet">

#### 開発の流れ

1. 定義されたクラス名の末尾が`Error`かを判定
2. 末尾が`Error`の場合、AST から型情報を取得
3. 型情報を辿って、定義されたクラスが`Error`クラスを継承しているか判定
4. 継承していない場合はエラーとする

```mermaid

flowchart LR

A{クラス名の末尾がError}
B[ASTからから情報を取得]
C{Errorクラスを継承している}
D[Error]
開始 --> A
A --> |YES| B
A --> |NO| E1[終了]
B --> C
C --> |YES| E2[終了]
C --> |NO| D

%% スタイル定義
classDef blue fill:#e6f7ff,stroke:#1890ff,stroke-width:2px
classDef orange fill:#fff7e6,stroke:#fa8c16,stroke-width:2px
classDef green fill:#f6ffed,stroke:#52c41a,stroke-width:2px
classDef red fill:#fff2f0,stroke:#f5222d,stroke-width:2px

%% スタイル適用
class A blue
class B orange
class C green
class D red
```

</div>

<!-- 
まず、AST の情報から、定義されたクラスのクラス名の末尾が`Error`かを判定します。  
末尾が`Error` の場合、AST から型情報を取得し、その型情報を辿って、定義されたクラスが`Error`クラスを継承しているか判定します。  
そして、定義したクラスが Error クラスを継承していない場合はエラーとします。
-->